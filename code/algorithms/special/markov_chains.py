
# Цепь Маркова - это последовательность случайных событий, в которой вероятность каждого события зависит 
# только от состояния, в котором находится система в данный момент времени, а не от того, каким было 
# состояние системы в прошлом. Цепь Маркова может быть использована для моделирования процессов, 
# в которых вероятность события зависит только от текущего состояния системы, но не от того, каким 
# было состояние системы в прошлом. Например, цепь Маркова может быть использована для моделирования
# погоды, в которой вероятность того, что завтра будет солнечно, зависит только от того, какая 
# погода сегодня.


import random


def markov_chain(p):
    """Генерирует цепь Маркова с матрицей переходных вероятностей p"""
    n = len(p)
    states = list(range(n))
    current_state = random.choice(states)
    while True:
        yield current_state
        current_state = random.choices(states, weights=p[current_state])[0]
        
        
if __name__ == '__main__':
    p = [
        [0.5, 0.5, 0.0, 0.0, 0.0, 0.0],
        [0.0, 0.5, 0.5, 0.0, 0.0, 0.0],
        [0.0, 0.0, 0.5, 0.5, 0.0, 0.0],
        [0.0, 0.0, 0.0, 0.5, 0.5, 0.0],
        [0.0, 0.0, 0.0, 0.0, 0.5, 0.5],
        [0.5, 0.0, 0.0, 0.0, 0.0, 0.5],
    ]
    chain = markov_chain(p)
    for _ in range(20):
        print(next(chain))
        
        